apply plugin: "java"
apply plugin: 'application'

mainClassName = 'main.Main'

sourceSets {
    main.java.srcDir "src/main"
    test.java.srcDir "src/tests"
}

run {
    if ( project.hasProperty("appArgs") ) {
        //noinspection GroovyAssignabilityCheck
        args Eval.me(appArgs)
    }
}

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

jar {
    manifest.attributes "Main-Class": mainClassName
}

Task taskSourceZip = project.task("makeSourceZip", type:Zip){
    baseName = "pascal2016"
    from (project.rootDir){
        exclude '.idea'
        exclude 'error'
        exclude 'classes'
        exclude 'build'
        exclude 'pascal2016.zip'
    }
    destinationDir project.rootDir
}